# Quality Review Request Template

This template helps construct neutral, sanitized review requests for the quality-reviewer sub-agent.

## Purpose

Ensure the quality-reviewer receives input WITHOUT knowledge of content origin, maintaining objective evaluation standards.

## Template Structure

```markdown
Evaluate this song prompt and lyrics for professional production quality.

## Song Context

- **Genre:** {genre_extracted_from_prompt}
- **Mood:** {mood_extracted_from_prompt}
- **Vocal Style:** {vocal_style_extracted_from_prompt}

## Structured Prompt

{prompt_text_no_blank_lines}

## Lyrics

{lyrics_text_with_meta_tags}

## Evaluation Request

Rate this material against professional music production standards:

1. **Prompt Quality:** Structure, specificity, copyright safety, genre alignment
2. **Lyric Quality:** AI-slop, clichés, poor quality lines, specificity, metaphor consistency, syllable patterns, rhyme scheme, style-lyric fit, gender-pronoun consistency, general taste

Provide structured feedback with:
- Ratings (X/10)
- Specific issues with line numbers
- Actionable recommendations categorized by severity (CRITICAL/SUGGESTED/OPTIONAL)
```

## Evaluation Parameters Section (NEW)

When user specifies genre-specific refinement preferences, append this section to the review request AFTER the lyrics section and BEFORE the evaluation request section:

```markdown
## Evaluation Parameters (User-Specified)

**Specificity Standard:** {user_choice_from_question_1}
- Options: "Strict Commercial Standards" | "Balanced Approach" | "Authentic/Artistic Priority"

**Contemporary Balance:** {user_choice_from_question_2}
- Options: "Maximum Timeless Appeal" | "Balanced" | "Current/Contemporary Focus"

**Wordiness Tolerance:** {user_choice_from_question_3}
- Options: "Strict Economy (Pop/Electronic)" | "Moderate (Recommended)" | "Narrative Freedom (Folk/Country/Indie)"

**Show/Tell Balance:** {user_choice_from_question_4}
- Options: "Strongly Favor Showing" | "Balanced (Recommended)" | "Allow Direct Statements"

Please adapt your evaluation criteria according to these user preferences. Consult the appropriate genre-specific reference guide:
- Pop: references/pop-evaluation-guide.md
- Indie/Folk: references/indie-folk-evaluation-guide.md
- Cross-reference: references/genre-evaluation-matrix.md
```

**When to include this section:**
- Include when user answers the 4 genre-specific refinement questions
- Omit when user skips refinement (backward compatibility)
- Parameters guide severity ratings (CRITICAL/SUGGESTED/OPTIONAL)

**How quality-reviewer processes parameters:**
- Reads appropriate reference guide based on genre
- Applies user-specified standards (e.g., "Strict Commercial" → flag all brands as CRITICAL)
- Uses genre-evaluation-matrix.md for cross-reference decisions
- Falls back to genre-detected defaults if no parameters provided

**Example with parameters:**
```markdown
Evaluate this song prompt and lyrics for professional production quality.

## Song Context

- **Genre:** bubblegum pop
- **Mood:** playful, sarcastic
- **Vocal Style:** female pop vocals, playful delivery

## Structured Prompt

genre: "bubblegum pop, synth-pop, disco-influenced pop"
vocal: "bright female pop vocals, playful delivery, sarcastic tone"
instrumentation: "synth bass, disco-inspired drums, bright synth pads"
production: "polished modern pop, wide stereo mix, punchy drums"
mood: "playful, sarcastic, witty, upbeat"

## Lyrics

[Verse 1 | playful | bright production]
You showed up late with pizza stains
While you ranked your Pokémon again
Living off your mother's Costco runs
But remembered your Spotify login

## Evaluation Parameters (User-Specified)

**Specificity Standard:** Strict Commercial Standards
**Contemporary Balance:** Maximum Timeless Appeal
**Wordiness Tolerance:** Strict Economy (Pop/Electronic)
**Show/Tell Balance:** Strongly Favor Showing

Please adapt your evaluation criteria according to these user preferences. Consult the appropriate genre-specific reference guide:
- Pop: references/pop-evaluation-guide.md
- Indie/Folk: references/indie-folk-evaluation-guide.md
- Cross-reference: references/genre-evaluation-matrix.md

## Evaluation Request

Rate this material against professional music production standards:
[standard evaluation request]
```

**Expected quality-reviewer behavior with these parameters:**
- Reads `references/pop-evaluation-guide.md`
- Flags "Pokémon", "Costco", "Spotify" as CRITICAL (brand names in pop)
- Flags contemporary references (2020s relatable, but it's 2025)
- Checks wordiness against 6-8 word target for pop
- Pushes for showing over telling (70/30 ratio)

## Input Sanitization Rules

**Remove ALL references to:**
- "AI-generated"
- "Claude"
- "LLM"
- "generated by"
- "created with"
- "automated"
- Any mention of creation method

**Replace with neutral framing:**
- ❌ "Review this AI-generated Suno prompt"
- ✅ "Evaluate this song prompt for professional quality"

- ❌ "I created this with Claude"
- ✅ "This is a {genre} song"

- ❌ "Check if this LLM output is good"
- ✅ "Evaluate this material against professional standards"

## Extraction Guide

### Extract Genre

From prompt section `genre: "..."`:
- Take first 1-2 primary genres
- Example: `genre: "bubblegum pop, synth-pop, disco-influenced pop"` → "bubblegum pop"
- Example: `genre: "indie folk, Appalachian influences, singer-songwriter"` → "indie folk"

### Extract Mood

From prompt section `mood: "..."`:
- Take first 1-2 mood descriptors
- Example: `mood: "playful, sarcastic, witty, upbeat"` → "playful, sarcastic"
- Example: `mood: "melancholic, haunting, intimate"` → "melancholic, intimate"

### Extract Vocal Style

From prompt section `vocal: "..."`:
- Take gender and primary style
- Example: `vocal: "bright female pop vocals, playful delivery"` → "female pop vocals"
- Example: `vocal: "soft female alto, whisper-to-belt, breathy"` → "female alto, breathy"

### Extract Prompt Text

From prompt sections:
- Include: `genre:`, `vocal:`, `instrumentation:`, `production:`, `mood:`
- Optional: `recording:`, `realism:`, `synthesis:`
- Exclude: MAX Mode parameters like `[Is_MAX_MODE: MAX](MAX)`
- Ensure: NO blank lines between sections
- Format: Exactly as it appears in structured section

### Extract Lyrics

From lyrics section:
- Include: All meta tags `[Section | descriptor | descriptor]`
- Include: All lyric lines
- Include: `///*****///` separator if present
- Preserve: Line breaks and formatting
- Exclude: Comments or annotations outside lyric structure

## Example Usage

**Input (from generated song):**
```yaml
---
title: "Fixer-Upper"
project: "Pop Songs I Love"
model: "v5"
genre: "bubblegum pop, synth-pop"
---

Genre: "bubblegum pop, synth-pop, disco-influenced pop"
Vocal: "bright female pop vocals, playful delivery, sarcastic tone"
Mood: "playful, sarcastic, witty, upbeat"

[Verse 1 | playful | bright production]
You showed up late with pizza stains
...
```

**Sanitized Output (to quality-reviewer):**
```markdown
Evaluate this song prompt and lyrics for professional production quality.

## Song Context

- **Genre:** bubblegum pop
- **Mood:** playful, sarcastic
- **Vocal Style:** female pop vocals, playful delivery

## Structured Prompt

genre: "bubblegum pop, synth-pop, disco-influenced pop, 2025 modern pop production"
vocal: "bright female pop vocals, playful delivery, sarcastic tone, sweet voice with attitude"
instrumentation: "synth bass, disco-inspired drums, bright synth pads"
production: "polished modern pop, wide stereo mix, punchy drums"
mood: "playful, sarcastic, witty, upbeat"

## Lyrics

[Verse 1 | playful | bright production]
You showed up late with pizza stains
...

## Evaluation Request

Rate this material against professional music production standards:
[standard request text]
```

## Implementation Notes

**When called from main workflow (Step 7.5):**
- Genre, mood, vocals already collected during Step 1 (Understand Vision)
- Prompt already generated during Step 4-6
- Lyrics already written during Step 5
- Simply extract and pass - NO user input needed

**When called from standalone `/review-song`:**
- Parse file or user-provided text
- Extract genre, mood, vocals from prompt sections
- Sanitize and pass to quality-reviewer

**Character Count Handling:**
- Do NOT include character count in review request
- Quality-reviewer focuses on CONTENT quality
- Character verification already done in Step 7 (Verify)
- Only flag if character count EXCEEDS limit (critical issue)

## Quality-Reviewer Tool Access

The quality-reviewer sub-agent has access to:
- **Read tool:** Can access reference materials in `references/` directory
- **Grep tool:** Can search reference materials for patterns

The quality-reviewer does NOT have:
- Write tool (cannot modify content)
- Bash tool (cannot execute scripts)
- Web tools (works offline with references)
- Access to main conversation history (independent context)

## Reference Materials Available

Quality-reviewer can read these files for evaluation standards:

- `references/meta-tags-reference.md` - Meta tag usage patterns
- `references/realism-descriptors.md` - Realism vocabulary for acoustic genres
- `references/genre-clouds.md` - Genre characteristic patterns
- `references/pop-evaluation-guide.md` - **NEW:** Pop-specific evaluation criteria (brand names, dating, wordiness, show/tell)
- `references/indie-folk-evaluation-guide.md` - **NEW:** Indie/folk-specific evaluation criteria (authenticity, narrative depth)
- `references/genre-evaluation-matrix.md` - **NEW:** Cross-genre comparison matrix for quick reference

The quality-reviewer will access these as needed during evaluation, especially when user-specified parameters are provided.
